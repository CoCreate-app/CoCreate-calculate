/* CoCreateJS */
var CoCreateCalculation={init:function(){this.initCalculationElements()},initCalculationElements:function(t){const e=t||document;if(!e.querySelectorAll)return;let l=e.querySelectorAll("[data-calculation]");e!=document&&e.hasAttribute("data-calculation")&&l.push(e);for(let t=0;t<l.length;t++){if(CoCreateUtils.getInitialized(l[t]))return;CoCreateUtils.setInitialized(l[t]),this.initCalculationElement(l[t])}},initCalculationElement:function(t){this.setCalcationResult(t);const e=this;let l=t.getAttribute("data-calculation"),n=this.getIds(l);for(let l=0;l<n.length;l++){let i=n[l],a=document.getElementById(i);a&&a.addEventListener("input",function(){e.setCalcationResult(t)})}},setCalcationResult:function(t){let e=t.getAttribute("data-calculation"),l=this.replaceIdWithValue(e);console.log(l);let n=calculation(l);"INPUT"==t.tagName||"TEXTAREA"==t.tagName||"SELECT"==t.tagName?t.value=n:t.innerHTML=n},replaceIdWithValue:function(t){let e=this.getIds(t);for(let l=0;l<e.length;l++){let n=e[l],i=document.getElementById(n);if(i){let e=Number(i.value);t=t.replace(new RegExp("{"+n+"}","g"),e)}}return t},getIds:function(t){let e=t,l=[];for(;e.length>0;){let t=e.indexOf("{"),n=e.indexOf("}",t);if(!(t>-1&&n>-1))return l;{let i=e.substring(t+1,n);-1==l.indexOf(i)&&l.push(i),e=e.substring(n+1)}}return l}};function calculation(t){let e,l,n,i;if(e=t.indexOf("+"),l=t.indexOf("-"),n=t.indexOf("*"),i=t.indexOf("/"),e>-1){let l=t.substr(0,e),n=t.substr(e+1);return calculation(l)+calculation(n)}if(l>-1){let e=t.substr(0,l),n=t.substr(l+1);return calculation(e)-calculation(n)}if(n>-1){let e=t.substr(0,n),l=t.substr(n+1);return calculation(e)*calculation(l)}if(i>-1){let e=t.substr(0,i),l=t.substr(i+1),n=calculation(e),a=calculation(l);return 0==a?0:n/a}{let e=Number(t);return isNaN(e)?0:e}}CoCreateCalculation.init(),CoCreateInit.register("CoCreateCalculation",CoCreateCalculation,CoCreateCalculation.initCalculationElements);