!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.calculation=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.calculation=t())}(this,function(){return r={},i.m=n=[function(e,t,n){"use strict";n.r(t);var r={init:function(){this.initCalculationElements()},initCalculationElements:function(e){e=e||document;if(e.querySelectorAll){var t=e.querySelectorAll("[data-calculation]")||[],t=Array.from(t);e!=document&&e.hasAttribute("data-calculation")&&t.push(e);for(var n=0;n<t.length;n++){if(CoCreate.observer.getInitialized(t[n],"calculation_init"))return;CoCreate.observer.setInitialized(t[n],"calculation_init"),this.initCalculationElement(t[n])}}},initCalculationElement:function(e){for(var t=this,n=e.getAttribute("data-calculation"),r=this.getIds(n),i=0;i<r.length;i++){var a=r[i],a=document.getElementById(a);a&&(a.addEventListener("input",function(){t.setCalcationResult(e)}),a.addEventListener("CoCreateInput-setvalue",function(){console.log("&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&"),t.setCalcationResult(e)}))}},setCalcationResult:function(e){var t=e.getAttribute("data-calculation"),t=this.replaceIdWithValue(t);console.log(t),t&&(t=function e(t){var n,r,i;n=t.indexOf("+");r=t.indexOf("-");i=t.indexOf("*");c=t.indexOf("/");{if(-1<n){var a=t.substr(0,n),o=t.substr(n+1);return e(a)+e(o)}if(-1<r){var o=t.substr(0,r),u=t.substr(r+1);return e(o)-e(u)}if(-1<i){var u=t.substr(0,i),l=t.substr(i+1);return e(u)*e(l)}if(-1<c){var l=t.substr(0,c),c=t.substr(c+1),l=e(l),c=e(c);return 0==c?0:l/c}var t=Number(t);return isNaN(t)?0:t}}(t),"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName?e.value=t:e.innerHTML=t)},replaceIdWithValue:function(e){for(var t=this.getIds(e),n=0;n<t.length;n++){var r=t[n],i=document.getElementById(r);i&&(i=Number(i.value),e=e.replace(new RegExp("{"+r+"}","g"),i))}return e},getIds:function(e){var t=e,n=[];if(!t)return n;for(;0<t.length;){var r=t.indexOf("{"),i=t.indexOf("}",r);if(!(-1<r&&-1<i))return n;r=t.substring(r+1,i);-1==n.indexOf(r)&&n.push(r),t=t.substring(i+1)}return n}};r.init(),CoCreate.observer.init({name:"CoCreateCalculationChangeValue",observe:["attributes"],attributes:["value"],include:"input",callback:function(e){console.log("-----------------------------------------------------"),console.log(e.target)}}),CoCreate.observer.init({name:"CoCreateCalculationInit",observe:["subtree","childList"],include:"[data-calculation]",callback:function(e){r.initCalculationElements(e.target)}}),t.default=r}],i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=0).default;function i(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}var n,r});