!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.calculations=t():(e.CoCreate=e.CoCreate||{},e.CoCreate.calculations=t())}(this,function(){return r={},a.m=n=[function(e,t,n){"use strict";n.r(t);n={init:function(){this.initCalculationElements()},initCalculationElements:function(e){e=e||document;if(e.querySelectorAll){var t=e.querySelectorAll("[data-calculation]")||[],t=Array.from(t);e!=document&&e.hasAttribute("data-calculation")&&t.push(e);for(var n=0;n<t.length;n++){if(CoCreateObserver.getInitialized(t[n],"calculation_init"))return;CoCreateObserver.setInitialized(t[n],"calculation_init"),this.initCalculationElement(t[n])}}},initCalculationElement:function(e){for(var t=this,n=e.getAttribute("data-calculation"),r=this.getIds(n),a=0;a<r.length;a++){var i=r[a],i=document.getElementById(i);i&&(i.addEventListener("input",function(){t.setCalcationResult(e)}),i.addEventListener("CoCreateInput-setvalue",function(){console.log("&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&&"),t.setCalcationResult(e)}))}},setCalcationResult:function(e){var t=e.getAttribute("data-calculation"),t=this.replaceIdWithValue(t);console.log(t),t&&(t=function e(t){var n,r,a;n=t.indexOf("+");r=t.indexOf("-");a=t.indexOf("*");c=t.indexOf("/");{if(-1<n){var i=t.substr(0,n),o=t.substr(n+1);return e(i)+e(o)}if(-1<r){var o=t.substr(0,r),u=t.substr(r+1);return e(o)-e(u)}if(-1<a){var u=t.substr(0,a),l=t.substr(a+1);return e(u)*e(l)}if(-1<c){var l=t.substr(0,c),c=t.substr(c+1),l=e(l),c=e(c);return 0==c?0:l/c}var t=Number(t);return isNaN(t)?0:t}}(t),"INPUT"==e.tagName||"TEXTAREA"==e.tagName||"SELECT"==e.tagName?e.value=t:e.innerHTML=t)},replaceIdWithValue:function(e){for(var t=this.getIds(e),n=0;n<t.length;n++){var r=t[n],a=document.getElementById(r);a&&(a=Number(a.value),e=e.replace(new RegExp("{"+r+"}","g"),a))}return e},getIds:function(e){var t=e,n=[];if(!t)return n;for(;0<t.length;){var r=t.indexOf("{"),a=t.indexOf("}",r);if(!(-1<r&&-1<a))return n;r=t.substring(r+1,a);-1==n.indexOf(r)&&n.push(r),t=t.substring(a+1)}return n}};CoCreateCalculation.init(),CoCreateObserver.add({name:"CoCreateCalculationChangeValue",observe:["attributes"],attributes:["value"],include:"input",task:function(e){console.log("-----------------------------------------------------"),console.log(e.target)}}),CoCreateObserver.add({name:"CoCreateCalculationInit",observe:["subtree","childList"],include:"[data-calculation]",task:function(e){CoCreateCalculation.initCalculationElements(e.target)}}),t.default=n}],a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0).default;function a(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,a),t.l=!0,t.exports}var n,r});